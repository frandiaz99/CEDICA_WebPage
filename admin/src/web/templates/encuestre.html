{% extends "layout.html" %}

{% block title %}Encuestre{% endblock %}

{% block content %}
<div class="bg-green-100">
    <h1>Lista de Encuestres</h1>

    <!-- Formulario de bÃºsqueda -->
    <form method="GET">
        <input type="text" name="search" placeholder="Buscar..." value="{{ search }}">

        <select name="filter_by">
            <option value="nombre" {% if filter_by=='nombre' %}selected{% endif %}>Nombre</option>
            <option value="tipo_ja_asignado" {% if filter_by=='tipo_ja_asignado' %}selected{% endif %}>Tipo de J&A asignado</option>
        </select>


        <label for="order" class="block text-sm font-medium text-gray-700">Ordenar por:</label>
        <select id="order_prop" name="order_prop">
            <option value="nombre" {% if order_prop=='nombre' %}selected{% endif %}>Nombre</option>
            <option value="apellido" {% if order_prop=='fecha_nacimiento' %}selected{% endif %}>Fecha de Nacimiento</option>
            <option value="fecha_creacion" {% if order_prop=='fecha_ingreso' %}selected{% endif %}>Fecha de Ingreso
            </option>
        </select>
        <select name="order">
            <option value="asc" {% if order=='asc' %}selected{% endif %}>Ascendente</option>
            <option value="desc" {% if order=='desc' %}selected{% endif %}>Descendente</option>
        </select>

        <!-- Dropdown de Ordenar por -->
        
        

        <button type="submit">Buscar</button>
    </form>

    <!-- Tabla de resultados -->
    <table class="table-auto w-full">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Fecha de Nacimiento</th>
                <th>Sexo</th>
                <th>Raza</th>
                <th>Pelaje</th>
                <th>Compra/Donacion</th>
                <th>Fecha Ingreso</th>
                <th>Sede Asignada</th>
                <th>Entrenadores/Conductores Asignados</th>
                <th>Tipo de J&A</th>
            </tr>
        </thead>
        <tbody>
            {% for encuestre in encuestres %}
            <tr>
                <td>{{ encuestre.nombre }}</td>
                <td>{{ encuestre.fecha_nacimiento }}</td>
                <td>{{ encuestre.sexo }}</td>
                <td>{{ encuestre.raza }}</td>
                <td>{{ encuestre.pelaje }}</td>
                <td>{{ encuestre.compra_donacion }}</td>
                <td>{{ encuestre.fecha_ingreso }}</td>
                <td>{{ encuestre.sede_asignada }}</td>
                <td>{{ encuestre.entrenador_id }}</td>
                <td>{{ encuestre.tipo_ja_asignado }}</td>
               
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}